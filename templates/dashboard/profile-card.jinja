<div class="card bg-base-100 shadow-lg">
	<div class="card-body">
		<div class="flex items-center gap-4">
			<div class="avatar">
				<div class="w-16 rounded-full">
					{% if user.profile_picture %}
					<img src="{{ user.profile_picture.url }}" alt="{{ user.username }}'s profile picture" />
					{% else %}
					<div class="bg-primary text-primary-content rounded-full w-16 h-16 flex items-center justify-center text-xl">
						{{ user.username[0]|upper }}
					</div>
					{% endif %}
				</div>
			</div>
			<div>
				<h2 class="card-title">{{ user.username }}</h2>
				<p class="text-sm text-gray-500">{{ user.email }}</p>
			</div>
		</div>
		<div class="mt-4">
			<div class="stats stats-vertical lg:stats-horizontal shadow w-full">
				<div class="stat">
					<div class="stat-title">Posts</div>
					<div class="stat-value">{{ my_posts|length }}</div>
				</div>
				<div class="stat">
					<div class="stat-title">Communities</div>
					<div class="stat-value">{{ user.communities.all()|length }}</div>
				</div>
			</div>
		</div>
		<div class="card-actions justify-end mt-4">
			<a href="{{ url('my_profile') }}" class="btn btn-primary btn-sm">View Profile</a>
			<a href="{{ url('user_settings') }}" class="btn btn-outline btn-sm">Settings</a>
		</div>
	</div>
</div>