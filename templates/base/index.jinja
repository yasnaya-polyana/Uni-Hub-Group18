<!DOCTYPE html>
<html lang="en" data-theme="cupcake">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>UniHub - {% block title %}{% endblock %}</title>
      <link
        href="https://cdn.jsdelivr.net/npm/daisyui@3.7.3/dist/full.css"
        rel="stylesheet"
        type="text/css"
      />
      <link
        href="https://fonts.googleapis.com/icon?family=Material+Icons"
        rel="stylesheet"
      />
      <link
        href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet"
      />
      <script src="https://cdn.tailwindcss.com"></script>
      <script>
        // Force clear the theme from localStorage
        localStorage.clear();
        
        // Theme handling
        document.addEventListener('DOMContentLoaded', function() {
          // Get the toggle element
          const themeToggle = document.getElementById('theme-toggle');
          
          // Set default theme to cupcake (a well-known DaisyUI theme)
          const defaultTheme = 'cupcake';
          
          // Force apply the theme immediately
          document.documentElement.dataset.theme = defaultTheme;
          
          // Set the toggle state based on the theme
          if (themeToggle) {
            themeToggle.checked = false;
            
            // Add event listener for toggle changes
            themeToggle.addEventListener('change', function() {
              const newTheme = this.checked ? 'dark' : 'cupcake';
              document.documentElement.dataset.theme = newTheme;
              localStorage.setItem('theme', newTheme);
              console.log('Theme changed to:', newTheme);
            });
          }
        });
      </script>
    </head>
    <body class="h-[100vh]">
        {% include 'base/nav.jinja' %}
        <main class="container mx-auto px-4 py-8 h-[95%]">
          {% if messages %}
            {% for message in messages %}<div class="alert alert-{{ message.tags }} mb-4">{{ message }}</div>{% endfor %}
          {% endif %}
          {% block content %}{% endblock %}
        </main>
        <div role="alert"
             id="alert-box"
             class="absolute bottom-2 w-[90%] left-[5%] z-100"></div>
    </body>
    {% include "base/logic.jinja" %}
</html>
